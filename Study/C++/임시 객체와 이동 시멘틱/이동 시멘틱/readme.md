# 이동 시멘틱(C++11부터 지원)

## 이동 생성자

>> 만약에 10MB짜리 리스트 a를 리스트 b에 복사한다고 칩시다.  
>> 그러면 Deep Copy한다는 가정 하에,  
>> b에 새로운 10MB짜리 객체를 만들어서 주겠죠?  
>> 그러면 다음에 리스트 a를 만들어 준다고 해도 메모리가 20MB로 튑니다.  

>> 프로그래밍 방법 중에 하나는, 불필요한 오버헤드를 줄여버리는 거죠.  
>> 만약 a를 b에 복사할거고, a를 곧 없애버릴 리스트의 원소라고 치면,  
>> b에 a를 그대로 복사하는 과정은 필요 없겠죠.  
>> b가 가리키는 포인터 / 참조를 그대로 a의 다음 포인터 / 참조로 고치면 되는 일입니다.  
>> 이를 구현하기 위한 문법이 이동 생성자고,  
>> 이를 행하는 것을 이동 시멘틱이라고 합니다.  


>> 이동 생성자는 r-value가 임시 객체일 경우에 호출되는 생성자입니다.  

```C++
CTest(const CTest && rhs) {
  // shallow copy를 위한 구문.
  this->pnData = rhs.pnData;
}
```
>> 이러면 생성자를 호출할 때, r-value가 임시 객체로 넘어갈 경우  
>> r-value 참조로 받아오겠죠.  
>> deep copy를 굳이 할 필요가 없는 상황이니까,  
>> shallow copy를 적용해줍니다.  

>> 만약에 이 생성자를 정의했다면,  
>> R-Value 참조를 수행하는 단순대입연산자 또한  
>> 재정의 해주어야 합니다.  
