# 파일 입출력

>> C언어 파일 I/O는 표준입출력(stdio) 헤더에 정의되어 있습니다.  

>> 파일은 어떠한 장치를 추상화한 개념입니다.  
>> 키보드, 마우스, 모니터, 프린터 등등.. 컴퓨터의 외부기기는  
>> 모두 파일로 추상화되어 있습니다.  
>> H/W수준의 동작인 주변기기의 신호는  
>> 커널에서 잡아냅니다. 그리고, 이런 잡아낸 신호들을  
>> 파일을 통해서 "제어 가능하게" 올려주는 것이죠.   
>> 어떠한 파일에 대고 사용자가 어떠한 H/W를 이용하려고 요청하면,  
>> 커널은 인터럽트를 요청합니다.  
>> 인터럽트가 발생하면 H/W로부터 커널은 데이터를 가져오고,  
>> 그 데이터를 파일로 전달해 유저 모드 어플리케이션이  
>> 해당 파일로 하드웨어를 동작시킬 수 있도록 합니다.   
>> 이러한 일련의 흐름을 Streaming이라고 하고요, 
>> 이러한 일련의 흐름을 위해 정보를 저장하기 위해 메모리의 특정 공간을 사용하는데,  
>> 이 특정 공간을 Buffer라고 합니다.
>> 보조 기억 장치에 해당하는 HDD, SSD 등에 기록된 파일 또한 주변장치죠?  
>> 이 파일들은 어떠한 "정보"를 담습니다.  

>> 이 정보들은 분류에 따라 binary file과 text file로 분류되죠.  
>> text file은 파일의 끝이 EOF인 모든 파일입니다.  
>> 해당 Data를 Text형태로 읽어들일 수 있죠.  
>> EOF는 파일의 끝을 의미합니다.  
>> binary file은 EOF가 아닌 모든 파일이에요.  
>> 사실, text file도 엄밀히 말하면 binary file이지만,  
>> text file은 text를 나타낸다는 고유의 목적이 있죠.  

# 파일 열기와 닫기
```C
FILE* fopen( const char* filename, const char* mode )
```
>> 인자 : filename : 열고자 하는 대상 파일의 절대 경로 문자열.  
>> ------ mode : 접근 모드를 명시한 문자열.
>> 반환값 : FILE : 구조체에 대한 주소. 만일 오류가 발생했다면 NULL을 반환한다.
>> 설명 : 반환된 FILE 구조체는 fclose()함수를 이용하여 반드시 닫아야 한다.
>> 보안대체함수 : fopen_s()
>> fopen()함수의 두 번쨰 인자로는 모드를 표시한 문자열이 전달됩니다.  


모드 - 의미 -------------------------- 존재하는 경우 ----------- 없는 경우
r ---- 텍스트 읽기(Read) ------------- 파일 열기 --------------- 오류
w ---- 텍스트 쓰기(write) ------------ 기존 내용을 지우고 열기 - 새로 만듦
a ---- 텍스트 추가(Append) ----------- 기존 내용 뒤에 추가 ----- 새로 만듦
r+ --- 텍스트 읽기 + 갱신(Read) ------ 파일 열기 --------------- 오류
w+ --- 텍스트 쓰기 + 갱신 (Write) ---- 기존 내용을 지우고 열기 - 새로 만듦
a+ --- 텍스트 추가 + 갱신 (Append) --- 기존 내용 뒤에 추가 ----- 새로 만듦
rb --- 바이너리 읽기(Read) ----------- 파일 열기 --------------- 오류
wb --- 바이너리 쓰기(Write) ---------- 기존 내용을 지우고 열기 - 새로 만듦
ab --- 바이너리 추가(Append) --------- 기존 내용 뒤에 추가 ----- 새로 만듦
rb+ -- 바이너리 읽기 + 갱신(Read) ---- 파일 열기 --------------- 오류
wb+ -- 바이너리 쓰기 + 갱신 (Write) -- 기존내용을 지우고 열기 -- 새로 만듦
ab+ -- 바이너리 추가 + 갱신 (Append) - 기존 내용 뒤에 추가 ----- 새로 만듦

```C
int fclose( FILE* stream );
```
>> 인자 : stream : 닫을 파일에 대한 FILE 구조체의 주소.  
>> 반환값 : 함수가 성공하면 0을 반환. 오류 발생시 EOF 반환.  
>> 설명 : 이 함수는 파일의 입출력을 끝내고 파일을 닫는다.  

```C
int _fcloseall( void );
```
>> 인자 : 없다.  
>> 반환값 : 닫은 파일의 개수.  
>> 설명 : 프로그램에서 열어둔 모든 파일을 닫는다.  

>> malloc 함수와 free 함수 쌍처럼 파일을 열었다면,   
>> 반드시 닫아야 합니다.  
>> 그리고 w 모드로 실행했을 때, 같은 이름의 파일이 존재한다면,  
>> 기존 파일을 완벽하게 삭제해버리고 그 위치에 써버립니다.  
>> 주의가 필요해요.

# 텍스트 파일 입출력 함수
>> 아까 설명한 바와 같이, 파일의 끝을 EOF(보통 -1)로 인식합니다.  

## fprintf() / fscanf()
